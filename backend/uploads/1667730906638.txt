//get sender_parcels
export const getsenderParcels:RequestHandler<{sender_details:string}>=async(req,res)=>{
try {
const sender_details=req.params.sender_details
const parcels=await db.exec('getSenderParcels',{sender_details})
const {recordset}=parcels
if (!parcels.recordset[0]) {
    res.json({ message: "Parcel Not Found" });
  } else {
    res.json(recordset);
   
  }

    
} catch (error) {
res.json({error})
    
}

}


//get receiver_parcels

export const getreceiverParcels:RequestHandler<{receiver_details:string}>=async(req,res)=>{
    try {
    const receiver_details=req.params.receiver_details
    const parcels=await db.exec('getReceiverParcels',{receiver_details})
    const {recordset}=parcels
    if (!parcels.recordset[0]) {
        res.json({ message: "Parcel Not Found" });
      } else {
        res.json(recordset);
       
      }
    
        
    } catch (error) {
    res.json({error})
        
    }
    
    }
    